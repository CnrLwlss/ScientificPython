<html>

<head>
<title>Scientific Computing with Python</title>
<meta http-equiv="Keywords" name=Keywords content="Conor Lawless, Python, Image Analysis,  Modelling, Mathematics, Mathematical, Computational">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link rel="STYLESHEET" href="../CLstyle.css" type="text/css">
</head>

<h1><a href="http://www.staff.ncl.ac.uk/conor.lawless/ScientificPython/">Scientific computing with Python</a></h1>
by <a href="http://www.staff.ncl.ac.uk/conor.lawless/">Conor Lawless</a> email: <a href="mailto:conor.lawless@ncl.ac.uk">conor.lawless@ncl.ac.uk</a>

<hr></hr>

<h2>Executing <a href="http://python.org">Python</a> scripts</h2>

<h3>Hello world!</h3>

<p> Now that we have a script written (first.py), the next question is how to make it run?  There are many ways to do this:</p>

<ul>
<li>Run from within the IDLE GUI (useful for debugging code)</li>
<li>Double-click on the script icon in Windows (fast way to execute a script)</li>
<li>Run from the command-line (useful for preserving messages from Python, or executing scripts on servers or on other operating systems)</li>
</ul>

<p> To run a script from within the IDLE GUI: if the script is not open, then right-click on the first.py icon, and choose "Edit with IDLE".  Once the script is opened in the IDLE text editor, to run it, just select <b>Run -> Run Module</b> (or as a shortcut, you can press F5).  If the script has been modified since it was last saved, IDLE will prompt you to save the script before running it.  This is good practise in case IDLE crashes while trying to run the script.</p>

<p> Hopefully you will see that Python has printed out "Hello World!" to screen as you have told it, and is waiting for further instructions.  You could just type the following into the shell to achieve the same effect: </p>

<div class="cbox">
<font color="#C00000">print</font><font color="#0000C0">(</font><font color="#004080">"Hello World!"</font><font color="#0000C0">)</font><font color="#000000"></font></font></pre>
</div>

<p> Typing short commands into the shell directly is useful for trying things out, and we'll do some more of that later.</p>

<p> The second method above is self-explanatory.  If Python is installed correctly under windows, double clicking on a .py file will execute the script.</p>

<p> To run from the command-line, we need to get a Windows command prompt.  To do this go <b>Start -> Run</b>, type "cmd" in the Open dialog box and click "OK".  Navigate to the location of your file on your hard drive (e.g. <b> cd H:\PythonStuff</b>.  Once in the correct directory, and assuming you've named the script first.py type: <b>python first.py</b></p>

<h3>Some more complicated, flashy demo code</h3>

<p>Ok, so now you know three different ways to execute a Python script in Windows, save the script below and try to use all three methods to execute it, and see what happens.  This code might seem incomprehensible.  It is quite complicated and difficult, but I hope that you'll be surprised at the complexity of the result given how short the text is.  Most of the lines in this script are a bit obscure and are simply there to get the window popup working.  We won't go into that specifically in this course, but I hope that by the end of the day you will be able to recognise several important features of this script and feel confident making a few tweaks to it here and there to see what happens.  A version with comments is <a href="../Resources/Colours.html">here</a></p>

<div class="cbox">
<pre><font face="Lucida,Courier New"><font color="#C00000">import</font> <font color="#000000">Tkinter</font><font color="#0000C0">,</font> <font color="#000000">numpy</font>
<font color="#000000">nframes</font><font color="#0000C0">=</font><font color="#0080C0">100000</font>
<font color="#000000">txtframe</font><font color="#0000C0">=</font><font color="#0080C0">20</font>
<font color="#000000">window</font> <font color="#0000C0">=</font> <font color="#000000">Tkinter</font><font color="#0000C0">.</font><font color="#000000">Tk</font><font color="#0000C0">(</font><font color="#0000C0">)</font>
<font color="#000000">w</font><font color="#0000C0">,</font><font color="#000000">h</font> <font color="#0000C0">=</font> <font color="#0080C0">750</font><font color="#0000C0">,</font><font color="#0080C0">750</font>
<font color="#000000">txt</font><font color="#0000C0">=</font><font color="#000000">list</font><font color="#0000C0">(</font><font color="#004080">"abcdefghijklmnopqrstuvwxyz0123456789"</font><font color="#0000C0">)</font>
<font color="#000000">colour</font><font color="#0000C0">=</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">array</font><font color="#0000C0">(</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">random</font><font color="#0000C0">.</font><font color="#000000">randint</font><font color="#0000C0">(</font><font color="#0080C0">0</font><font color="#0000C0">,</font><font color="#0080C0">255</font><font color="#0000C0">,</font><font color="#0080C0">3</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#000000">dtype</font><font color="#0000C0">=</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">uint8</font><font color="#0000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">i</font> <font color="#C00000">in</font> <font color="#000000">xrange</font><font color="#0000C0">(</font><font color="#0080C0">0</font><font color="#0000C0">,</font><font color="#000000">nframes</font><font color="#0000C0">)</font><font color="#0000C0">:</font>
    <font color="#000000">window</font><font color="#0000C0">.</font><font color="#000000">title</font><font color="#0000C0">(</font><font color="#004080">"http://www.staff.ncl.ac.uk/conor.lawless/ScientificPython Frame number: "</font><font color="#0000C0">+</font><font color="#000000">str</font><font color="#0000C0">(</font><font color="#000000">i</font><font color="#0000C0">)</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">=</font><font color="#000000">Tkinter</font><font color="#0000C0">.</font><font color="#000000">Canvas</font><font color="#0000C0">(</font><font color="#000000">window</font><font color="#0000C0">,</font> <font color="#000000">width</font><font color="#0000C0">=</font><font color="#000000">w</font><font color="#0000C0">,</font> <font color="#000000">height</font><font color="#0000C0">=</font><font color="#000000">h</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">.</font><font color="#000000">pack</font><font color="#0000C0">(</font><font color="#0000C0">)</font>
    <font color="#000000">newcol</font><font color="#0000C0">=</font> <font color="#004080">"#%02x%02x%02x"</font> <font color="#0000C0">%</font> <font color="#000000">tuple</font><font color="#0000C0">(</font><font color="#000000">colour</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">.</font><font color="#000000">create_rectangle</font><font color="#0000C0">(</font><font color="#0080C0">0</font><font color="#0000C0">,</font><font color="#0080C0">0</font><font color="#0000C0">,</font> <font color="#000000">w</font><font color="#0000C0">,</font> <font color="#000000">h</font><font color="#0000C0">,</font> <font color="#000000">fill</font><font color="#0000C0">=</font><font color="#000000">newcol</font><font color="#0000C0">,</font><font color="#000000">outline</font><font color="#0000C0">=</font><font color="#000000">newcol</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">.</font><font color="#000000">create_text</font><font color="#0000C0">(</font><font color="#000000">w</font><font color="#0000C0">/</font><font color="#0080C0">2</font><font color="#0000C0">,</font><font color="#000000">h</font><font color="#0000C0">/</font><font color="#0080C0">2</font><font color="#0000C0">,</font><font color="#000000">text</font><font color="#0000C0">=</font><font color="#000000">txt</font><font color="#0000C0">[</font><font color="#0000C0">(</font><font color="#000000">i</font><font color="#0000C0">/</font><font color="#000000">txtframe</font><font color="#0000C0">)</font><font color="#0000C0">%</font><font color="#000000">len</font><font color="#0000C0">(</font><font color="#000000">txt</font><font color="#0000C0">)</font><font color="#0000C0">]</font><font color="#0000C0">,</font><font color="#000000">fill</font><font color="#0000C0">=</font><font color="#004080">"white"</font><font color="#0000C0">,</font><font color="#000000">font</font><font color="#0000C0">=</font><font color="#0000C0">(</font><font color="#004080">"Arial"</font><font color="#0000C0">,</font> <font color="#004080">"150"</font><font color="#0000C0">,</font><font color="#004080">"bold"</font><font color="#0000C0">)</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">.</font><font color="#000000">update</font><font color="#0000C0">(</font><font color="#0000C0">)</font>
    <font color="#000000">C</font><font color="#0000C0">.</font><font color="#000000">destroy</font><font color="#0000C0">(</font><font color="#0000C0">)</font>
    <font color="#000000">colnew</font><font color="#0000C0">=</font><font color="#000000">colour</font><font color="#0000C0">+</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">random</font><font color="#0000C0">.</font><font color="#000000">randint</font><font color="#0000C0">(</font><font color="#0000C0">-</font><font color="#0080C0">1</font><font color="#0000C0">,</font><font color="#0080C0">2</font><font color="#0000C0">,</font><font color="#0080C0">3</font><font color="#0000C0">)</font><font color="#0000C0">*</font><font color="#0080C0">2</font>
    <font color="#000000">colnew</font><font color="#0000C0">=</font><font color="#0000C0">[</font><font color="#000000">max</font><font color="#0000C0">(</font><font color="#000000">min</font><font color="#0000C0">(</font><font color="#000000">col</font><font color="#0000C0">,</font><font color="#0080C0">255</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#0080C0">0</font><font color="#0000C0">)</font> <font color="#C00000">for</font> <font color="#000000">col</font> <font color="#C00000">in</font> <font color="#000000">colnew</font><font color="#0000C0">]</font>
    <font color="#000000">colour</font><font color="#0000C0">=</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">array</font><font color="#0000C0">(</font><font color="#000000">colnew</font><font color="#0000C0">,</font><font color="#000000">dtype</font><font color="#0000C0">=</font><font color="#000000">numpy</font><font color="#0000C0">.</font><font color="#000000">uint8</font><font color="#0000C0">)</font>
<font color="#000000">window</font><font color="#0000C0">.</font><font color="#000000">destroy</font><font color="#0000C0">(</font><font color="#0000C0">)</font><font color="#000000"></font></font></pre>
</div>

<p>If your (Windows) computer has the ability to play sound, you could try the simpler but equally awesome example below.  A version with human readable comments is <a href="../Resources/Beep.html">here</a>.</p>

<div class="cbox">
<pre><font face="Lucida,Courier New"><font color="#C00000">import</font> <font color="#000000">winsound</font>
<font color="#000000">music</font><font color="#0000C0">=</font><font color="#0000C0">(</font><font color="#0000C0">(</font><font color="#0080C0">784</font><font color="#0000C0">,</font><font color="#0080C0">1</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#0000C0">(</font><font color="#0080C0">880</font><font color="#0000C0">,</font><font color="#0080C0">1</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#0000C0">(</font><font color="#0080C0">698</font><font color="#0000C0">,</font><font color="#0080C0">1</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#0000C0">(</font><font color="#0080C0">349</font><font color="#0000C0">,</font><font color="#0080C0">1</font><font color="#0000C0">)</font><font color="#0000C0">,</font><font color="#0000C0">(</font><font color="#0080C0">523</font><font color="#0000C0">,</font><font color="#0080C0">3</font><font color="#0000C0">)</font><font color="#0000C0">)</font>
<font color="#C00000">for</font> <font color="#000000">x</font> <font color="#C00000">in</font> <font color="#000000">music</font><font color="#0000C0">:</font>
    <font color="#000000">winsound</font><font color="#0000C0">.</font><font color="#000000">Beep</font><font color="#0000C0">(</font><font color="#000000">x</font><font color="#0000C0">[</font><font color="#0080C0">0</font><font color="#0000C0">]</font><font color="#0000C0">,</font><font color="#0080C0">250</font><font color="#0000C0">*</font><font color="#000000">x</font><font color="#0000C0">[</font><font color="#0080C0">1</font><font color="#0000C0">]</font><font color="#0000C0">)</font><font color="#000000"></font></font></pre>
</div>

<hr></hr>

<p>
<a href="../">Overview</a> &there4;
<a href="../Installation">Installation</a> &there4;
<a href="../FirstScript">First Script</a> &there4;
<a href="../Execution">Execution</a> &there4;
<a href="../Libraries">Libraries</a> &there4;
<a href="../Structure">Structure</a> &there4;
<a href="../Resources">Other Resources</a>
</p>
<hr></hr>

<p>
<a href="http://www.flickr.com/photos/conchur/2318555571/"><IMG SRC="http://farm4.static.flickr.com/3285/2318555571_e9d55697d4_t.jpg" /></a>
<a href="http://www.flickr.com/photos/conchur/2318560555/"><IMG SRC="http://farm3.static.flickr.com/2176/2318560555_995dfd80a7_t.jpg" /></a>
<a href="http://www.flickr.com/photos/conchur/2318537723/"><img src="http://farm3.static.flickr.com/2054/2318537723_b757fc5e19_t.jpg" /></a>
<a href="http://www.flickr.com/photos/conchur/2320268089/"><IMG SRC="http://farm3.static.flickr.com/2036/2320268089_892ab791bf_t.jpg" /></a>
<a href="http://www.flickr.com/photos/conchur/2320278987/"><IMG SRC="http://farm4.static.flickr.com/3245/2320278987_cb105a357e_t.jpg" /></a>
</p>

<h5>Last updated: April 2012</h5>
</body>
</html>
